@page
@model AplicatieLicenta.Pages.Admin.CreeazaTestModel
@{
    Layout = "~/Pages/Shared/AdminLayout.cshtml";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<style>
    h2 {
        color: #C8AD7F;
        font-weight: bold;
    }

    .btn-crem {
        background-color: #C8AD7F !important;
        color: white !important;
        border: none !important;
    }

        .btn-crem:hover {
            background-color: #b89c6e !important;
            color: white !important;
        }

    .btn-outline-crem {
        color: #C8AD7F !important;
        border: 2px solid #C8AD7F !important;
        background-color: transparent !important;
    }

        .btn-outline-crem:hover {
            background-color: #C8AD7F !important;
            color: white !important;
        }
</style>


<div class="container mt-4 d-flex justify-content-center">
    <div class="card shadow p-4" style="width: 100%; max-width: 700px;">
        <h2 class="text-center mb-4" style="color: #C8AD7F; font-weight: bold;">Creare quiz pentru carti</h2>


        @if (TempData["Message"] != null)
        {
            <div class="alert alert-success">@TempData["Message"]</div>
        }
        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">@TempData["Error"]</div>
        }

        <form method="post">
         


            <div class="mb-3">
                <label class="form-label">Titlul Testului</label>
                <input asp-for="TitluTest" class="form-control" />
                <span asp-validation-for="TitluTest" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label class="form-label">Cartea asociată</label>
                <select asp-for="CarteId" asp-items="Model.Carti" class="form-select">
                    <option value="">-- Selectează cartea --</option>
                </select>
                <span asp-validation-for="CarteId" class="text-danger"></span>
            </div>

            <hr />

            <h5 class="mt-3 mb-3">Adaugă întrebare</h5>

            <div class="mb-3">
                <label class="form-label">Enunț întrebare</label>
                <input asp-for="IntrebareCurenta.Enunt" class="form-control" />
                <span asp-validation-for="IntrebareCurenta.Enunt" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label class="form-label">Categorie</label>
                <select asp-for="IntrebareCurenta.Categorie" class="form-select">
                    <option value="">-- Selectează --</option>
                    <option value="PersonajPrincipal">Personaj principal</option>
                    <option value="Emotii">Emoții</option>
                    <option value="Actiune">Acțiune</option>
                </select>
                <span asp-validation-for="IntrebareCurenta.Categorie" class="text-danger"></span>
            </div>

            <div class="mb-2">
                <label class="form-label">Variantă 1</label>
                <input asp-for="IntrebareCurenta.Varianta1" class="form-control" />
                <span asp-validation-for="IntrebareCurenta.Varianta1" class="text-danger"></span>
                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="IntrebareCurenta.Corecta" value="1" />
                    <label class="form-check-label">Aceasta este corectă</label>
                </div>
            </div>

            <div class="mb-2">
                <label class="form-label">Variantă 2</label>
                <input asp-for="IntrebareCurenta.Varianta2" class="form-control" />
                <span asp-validation-for="IntrebareCurenta.Varianta2" class="text-danger"></span>
                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="IntrebareCurenta.Corecta" value="2" />
                    <label class="form-check-label">Aceasta este corectă</label>
                </div>
            </div>

            <div class="mb-2">
                <label class="form-label">Variantă 3</label>
                <input asp-for="IntrebareCurenta.Varianta3" class="form-control" />
                <span asp-validation-for="IntrebareCurenta.Varianta3" class="text-danger"></span>
                <div class="form-check">
                    <input class="form-check-input" type="radio" asp-for="IntrebareCurenta.Corecta" value="3" />
                    <label class="form-check-label">Aceasta este corectă</label>
                </div>
            </div>

            <button type="submit" asp-page-handler="AdaugaIntrebare" class="btn btn-outline-crem w-100 mt-3">
                 Adaugă întrebare
            </button>
        </form>

        @if (Model.Intrebari != null && Model.Intrebari.Count > 0)
        {
            <hr class="mt-4" />
            <h5 class="text-center">Întrebări adăugate:</h5>
            <ol>
                @foreach (var q in Model.Intrebari)
                {
                    <li><strong>@q.Enunt</strong> – <em>@q.Categorie</em></li>
                }
            </ol>
        }

        <form method="post">
            <button type="submit" asp-page-handler="SalveazaTest" class="btn btn-crem w-100 mt-3">
                 Salvează testul în XML
            </button>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
